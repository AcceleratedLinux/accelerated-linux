/*
 *  Copyright 2017 Digi International Inc
 *
 *  This program is free software; you can redistribute  it and/or modify it
 *  under  the terms of  the GNU General  Public License as published by the
 *  Free Software Foundation;  either version 2 of the  License, or (at your
 *  option) any later version.
 */

#ifndef MCA_CC6UL_REGISTERS_H_
#define MCA_CC6UL_REGISTERS_H_

#include <linux/bitops.h>

/* EP0: Control and status */
#define MCA_CC6UL_DEVICE_ID		0x0001
#define MCA_CC6UL_HW_VER		0x0002
#define MCA_CC6UL_FW_VER_L		0x0003
#define MCA_CC6UL_FW_VER_H		0x0004
#define MCA_CC6UL_UID_0			0x0005
#define MCA_CC6UL_UID_1			0x0006
#define MCA_CC6UL_UID_2			0x0007
#define MCA_CC6UL_UID_3			0x0008
#define MCA_CC6UL_UID_4			0x0009
#define MCA_CC6UL_UID_5			0x000A
#define MCA_CC6UL_UID_6			0x000B
#define MCA_CC6UL_UID_7			0x000C
#define MCA_CC6UL_UID_8			0x000D
#define MCA_CC6UL_UID_9			0x000E
#define MCA_CC6UL_HWVER_SOM		0x000F

#define MCA_CC6UL_IRQ_STATUS_0		0x0020
#define MCA_CC6UL_IRQ_STATUS_1		0x0021
#define MCA_CC6UL_IRQ_STATUS_2		0x0022
#define MCA_CC6UL_IRQ_STATUS_3		0x0023
#define MCA_CC6UL_IRQ_MASK_0		0x0024
#define MCA_CC6UL_IRQ_MASK_1		0x0025
#define MCA_CC6UL_IRQ_MASK_2		0x0026
#define MCA_CC6UL_IRQ_MASK_3		0x0027

#define MCA_CC6UL_PWR_CTRL_0		0x0028
#define MCA_CC6UL_PWR_STATUS_0		0x0029
#define MCA_CC6UL_PWR_KEY_DEBOUNCE	0x002a
#define MCA_CC6UL_PWR_KEY_DELAY		0x002b
#define MCA_CC6UL_PWR_KEY_GUARD		0x002c

#define MCA_CC6UL_CTRL_UNLOCK_0		0x002d
#define MCA_CC6UL_CTRL_UNLOCK_1		0x002e
#define MCA_CC6UL_CTRL_UNLOCK_2		0x002f
#define MCA_CC6UL_CTRL_UNLOCK_3		0x0030

#define MCA_CC6UL_CTRL_0		0x0031
#define MCA_CC6UL_CTRL_1		0x0032

#define MCA_CC6UL_TAMPER0_CFG0		0x0037
#define MCA_CC6UL_TAMPER0_CFG1		0x0038
#define MCA_CC6UL_TAMPER0_IO_IN		0x0039
#define MCA_CC6UL_TAMPER0_IO_OUT	0x003a
#define MCA_CC6UL_TAMPER0_DELAY_PWROFF	0x003b
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER0_DATE_START	0x003d
#define MCA_CC6UL_TAMPER0_DATE_END	0x0043
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER0_EVENT		0x0045

#define MCA_CC6UL_TAMPER1_CFG0		0x0046
#define MCA_CC6UL_TAMPER1_CFG1		0x0047
#define MCA_CC6UL_TAMPER1_IO_IN		0x0048
#define MCA_CC6UL_TAMPER1_IO_OUT	0x0049
#define MCA_CC6UL_TAMPER1_DELAY_PWROFF	0x004a
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER1_DATE_START	0x004c
#define MCA_CC6UL_TAMPER1_DATE_END	0x0052
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER1_EVENT		0x0054

#define MCA_CC6UL_TAMPER_REGS_LEN	(MCA_CC6UL_TAMPER1_CFG0 - \
					 MCA_CC6UL_TAMPER0_CFG0)

#define MCA_CC6UL_TIMER_TICK_0		0x0057
#define MCA_CC6UL_TIMER_TICK_1		0x0058
#define MCA_CC6UL_TIMER_TICK_2		0x0059
#define MCA_CC6UL_TIMER_TICK_3		0x005a

#define MCA_CC6UL_TAMPER2_CFG0		0x0060
#define MCA_CC6UL_TAMPER2_CFG1		0x0061
#define MCA_CC6UL_TAMPER2_IO_IN		0x0062
#define MCA_CC6UL_TAMPER2_IO_OUT		0x0063
#define MCA_CC6UL_TAMPER2_DELAY_PWROFF	0x0064
/* 1 byte for padding */
/* Tamper event time-stamp follows the same format used by the RTC registers*/
#define MCA_CC6UL_TAMPER2_DATE_START		0x0066
/* ... */
#define MCA_CC6UL_TAMPER2_DATE_END		0x006C
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER2_EVENT		0x006E
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER2_TICKS_L		0x0070
#define MCA_CC6UL_TAMPER2_TICKS_H		0x0071
#define MCA_CC6UL_TAMPER2_THRESH_LO_L		0x0072
#define MCA_CC6UL_TAMPER2_THRESH_LO_H		0x0073
#define MCA_CC6UL_TAMPER2_THRESH_HI_L		0x0074
#define MCA_CC6UL_TAMPER2_THRESH_HI_H		0x0075

#define MCA_CC6UL_TAMPER3_CFG0		0x0080
#define MCA_CC6UL_TAMPER3_CFG1		0x0081
#define MCA_CC6UL_TAMPER3_IO_IN		0x0082
#define MCA_CC6UL_TAMPER3_IO_OUT		0x0083
#define MCA_CC6UL_TAMPER3_DELAY_PWROFF	0x0084
/* 1 byte for padding */
/* Tamper event time-stamp follows the same format used by the RTC registers*/
#define MCA_CC6UL_TAMPER3_DATE_START		0x0086
/* ... */
#define MCA_CC6UL_TAMPER3_DATE_END		0x008C
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER3_EVENT		0x008E
/* 1 byte for padding */
#define MCA_CC6UL_TAMPER3_TICKS_L		0x0090
#define MCA_CC6UL_TAMPER3_TICKS_H		0x0091
#define MCA_CC6UL_TAMPER3_THRESH_LO_L		0x0092
#define MCA_CC6UL_TAMPER3_THRESH_LO_H		0x0093
#define MCA_CC6UL_TAMPER3_THRESH_HI_L		0x0094
#define MCA_CC6UL_TAMPER3_THRESH_HI_H		0x0095
/* 2 bytes for padding */
#define MCA_CC6UL_LAST_MCA_RESET_0		0x0098
#define MCA_CC6UL_LAST_MCA_RESET_3		0x009b
#define MCA_CC6UL_LAST_MPU_RESET_0		0x009c
#define MCA_CC6UL_LAST_MPU_RESET_3		0x009f
#define MCA_CC6UL_LAST_WAKEUP_REASON_0		0x00a0
#define MCA_CC6UL_LAST_WAKEUP_REASON_3		0x00a3
#define MCA_CC6UL_MPU_NVRAM_START	0x00b0
#define MCA_CC6UL_MPU_NVRAM_END		0x00b7


/* EP1: RTC */
#define MCA_CC6UL_RTC_CONTROL		0x0101

#define MCA_CC6UL_RTC_COUNT_YEAR_L	0x0103
#define MCA_CC6UL_RTC_COUNT_YEAR_H	0x0104
#define MCA_CC6UL_RTC_COUNT_MONTH	0x0105
#define MCA_CC6UL_RTC_COUNT_DAY		0x0106
#define MCA_CC6UL_RTC_COUNT_HOUR	0x0107
#define MCA_CC6UL_RTC_COUNT_MIN		0x0108
#define MCA_CC6UL_RTC_COUNT_SEC		0x0109
#define MCA_CC6UL_RTC_ALARM_YEAR_L	0x010A
#define MCA_CC6UL_RTC_ALARM_YEAR_H	0x010B
#define MCA_CC6UL_RTC_ALARM_MONTH	0x010C
#define MCA_CC6UL_RTC_ALARM_DAY		0x010D
#define MCA_CC6UL_RTC_ALARM_HOUR	0x010E
#define MCA_CC6UL_RTC_ALARM_MIN		0x010F
#define MCA_CC6UL_RTC_ALARM_SEC		0x0110

/* EP2: Watchdog */
#define MCA_CC6UL_WDT_CONTROL		0x0201
#define MCA_CC6UL_WDT_TIMEOUT		0x0202
#define MCA_CC6UL_WDT_REFRESH_0		0x0203
#define MCA_CC6UL_WDT_REFRESH_1		0x0204
#define MCA_CC6UL_WDT_REFRESH_2		0x0205
#define MCA_CC6UL_WDT_REFRESH_3		0x0206


/*
 * MCA registers bitfields
 */

/* MCA_CC6UL_IRQ_STATUS_0 (addr=0x0020) */
#define MCA_CC6UL_RTC_ALARM		BIT(0)
#define MCA_CC6UL_RTC_1HZ		BIT(1)
#define MCA_CC6UL_WATCHDOG		BIT(2)
#define MCA_CC6UL_PWR_SLEEP		BIT(3)
#define MCA_CC6UL_PWR_OFF		BIT(4)
#define MCA_CC6UL_TAMPER0		BIT(5)
#define MCA_CC6UL_TAMPER1		BIT(6)
#define MCA_CC6UL_ADC			BIT(7)

/* MCA_CC6UL_IRQ_STATUS_1 (addr=0x0021) */
#define MCA_CC6UL_GPIO_BANK_0		BIT(0)
#define MCA_CC6UL_GPIO_BANK_1		BIT(1)
#define MCA_CC6UL_GPIO_BANK_2		BIT(2)
#define MCA_CC6UL_GPIO_BANK_3		BIT(3)
#define MCA_CC6UL_GPIO_BANK_4		BIT(4)
#define MCA_CC6UL_GPIO_BANK_5		BIT(5)
#define MCA_CC6UL_GPIO_BANK_6		BIT(6)
#define MCA_CC6UL_GPIO_BANK_7		BIT(7)

/* MCA_CC6UL_GPIO_IRQ_CFG_n (addr=0x0332... 0x0369) */
#define MCA_CC6UL_GPIO_IRQ_EN		BIT(0)
#define MCA_CC6UL_GPIO_IRQ_LEVEL	BIT(1)
#define MCA_CC6UL_GPIO_IRQ_EDGE_RISE	BIT(2)
#define MCA_CC6UL_GPIO_IRQ_EDGE_FALL	BIT(3)
#define MCA_CC6UL_GPIO_IRQ_EDGE_BOTH	(MCA_CC6UL_GPIO_IRQ_EDGE_RISE | \
					 MCA_CC6UL_GPIO_IRQ_EDGE_FALL)
#define MCA_CC6UL_M_GPIO_IRQ_CFG	(MCA_CC6UL_GPIO_IRQ_LEVEL | \
					 MCA_CC6UL_GPIO_IRQ_EDGE_BOTH)
#define MCA_CC6UL_GPIO_IRQ_CAPABLE	BIT(7)

/* MCA_CC6UL_IRQ_MASK_0 (addr=0x0024) */
#define MCA_CC6UL_M_RTC_ALARM		MCA_CC6UL_RTC_ALARM
#define MCA_CC6UL_M_RTC_1HZ		MCA_CC6UL_RTC_1HZ
#define MCA_CC6UL_M_WATCHDOG		MCA_CC6UL_WATCHDOG
#define MCA_CC6UL_M_PWR_SLEEP		MCA_CC6UL_PWR_SLEEP
#define MCA_CC6UL_M_PWR_OFF		MCA_CC6UL_PWR_OFF
#define MCA_CC6UL_M_TAMPER0		MCA_CC6UL_TAMPER0
#define MCA_CC6UL_M_TAMPER1		MCA_CC6UL_TAMPER1
#define MCA_CC6UL_M_ADC			MCA_CC6UL_ADC

/* MCA_CC6UL_IRQ_MASK_1 (addr=0x0025) */
#define MCA_CC6UL_M_GPIO_BANK_0		BIT(0)
#define MCA_CC6UL_M_GPIO_BANK_1		BIT(1)
#define MCA_CC6UL_M_GPIO_BANK_2		BIT(2)
#define MCA_CC6UL_M_GPIO_BANK_3		BIT(3)
#define MCA_CC6UL_M_GPIO_BANK_4		BIT(4)
#define MCA_CC6UL_M_GPIO_BANK_5		BIT(5)
#define MCA_CC6UL_M_GPIO_BANK_6		BIT(6)
#define MCA_CC6UL_M_GPIO_BANK_7		BIT(7)

/* MCA_CC6UL_IRQ_MASK_2 */
#define MCA_CC6UL_M_TAMPER2		BIT(0)
#define MCA_CC6UL_M_TAMPER3		BIT(1)
#define MCA_CC6UL_M_UART		BIT(2)


/* MCA_CC6UL_PWR_CTRL_0 (addr=0x0028) */
#define MCA_CC6UL_PWR_KEY_SLEEP_EN	BIT(0)
#define MCA_CC6UL_PWR_KEY_OFF_EN	BIT(1)
#define MCA_CC6UL_PWR_GUARD_EN		BIT(2)
#define MCA_CC6UL_PWR_GO_OFF		BIT(3)
#define MCA_CC6UL_PWR_GO_SUSPEND	BIT(4)

/* MCA_CC6UL_CTRL_0 (addr=0x0031) */
#define MCA_CC6UL_RESET			BIT(0)
#define MCA_CC6UL_EXT32K_EN		BIT(1)
#define MCA_CC6UL_JMP_BL		BIT(2)
#define MCA_CC6UL_VREF_EN		BIT(5)

/* MCA_CC6UL_TAMPERn_CFG0 (addr=0x0037 & 0x0046) */
#define MCA_CC6UL_TAMPER_DET_EN		BIT(0)
#define MCA_CC6UL_TAMPER_RECONF_EN	BIT(1)
#define MCA_CC6UL_TAMPER_IN_ACT_HIGH	BIT(2)
#define MCA_CC6UL_TAMPER_IRQ_EN		BIT(3)
#define MCA_CC6UL_TAMPER_OUT_EN		BIT(4)
#define MCA_CC6UL_TAMPER_OUT_ACT_HIGH	BIT(5)
#define MCA_CC6UL_TAMPER_PWROFF_EN	BIT(6)
#define MCA_CC6UL_TAMPER_CLR_EV_EN	BIT(7)

/* MCA_CC6UL_TAMPERm_EVENT (addr=0x0045 & 0x0054) */
#define MCA_CC6UL_TAMPER_SIGNALED	BIT(0)
#define MCA_CC6UL_TAMPER_ACKED		BIT(1)
#define MCA_CC6UL_TAMPER_CLEAR		0

/* MCA_CC6UL_LAST_MCA_RESET_n (addr=0x0098 & 0x009b) */
#define MCA_CC6UL_LAST_MCA_RST_LLW	BIT(0)
#define MCA_CC6UL_LAST_MCA_RST_LVD	BIT(1)
#define MCA_CC6UL_LAST_MCA_RST_WD	BIT(5)
#define MCA_CC6UL_LAST_MCA_RST_PIN	BIT(6)
#define MCA_CC6UL_LAST_MCA_RST_PWRON	BIT(7)
#define MCA_CC6UL_LAST_MCA_RST_LOCKUP	BIT(9)
#define MCA_CC6UL_LAST_MCA_RST_SW	BIT(10)
#define MCA_CC6UL_LAST_MCA_RST_MDMAPP	BIT(11)
#define MCA_CC6UL_LAST_MCA_RST_SMAE	BIT(13)

/* MCA_CC6UL_LAST_MPU_RESET_n (addr=0x009c & 0x009f) */
#define MCA_CC6UL_LAST_MPU_RST_PWRON	BIT(0)
#define MCA_CC6UL_LAST_MPU_RST_SYSR	BIT(1)
#define MCA_CC6UL_LAST_MPU_RST_WD	BIT(2)
#define MCA_CC6UL_LAST_MPU_RST_OFFWAKE	BIT(3)
#define MCA_CC6UL_LAST_MPU_RST_MCARST	BIT(4)

/* MCA_CC6UL_LAST_WAKEUP_REASON_n (addr=0x00a0 & 0x00a3) */
#define MCA_CC6UL_LAST_WAKEUP_PWRIO	BIT(0)
#define MCA_CC6UL_LAST_WAKEUP_TIMER	BIT(1)
#define MCA_CC6UL_LAST_WAKEUP_RTC	BIT(2)
#define MCA_CC6UL_LAST_WAKEUP_LPUART	BIT(3)
#define MCA_CC6UL_LAST_WAKEUP_TAMPER0	BIT(4)
#define MCA_CC6UL_LAST_WAKEUP_TAMPER1	BIT(5)
#define MCA_CC6UL_LAST_WAKEUP_TAMPER2	BIT(6)
#define MCA_CC6UL_LAST_WAKEUP_TAMPER3	BIT(7)
#define MCA_CC6UL_LAST_WAKEUP_IO0	BIT(8)
#define MCA_CC6UL_LAST_WAKEUP_IO1	BIT(9)
#define MCA_CC6UL_LAST_WAKEUP_IO2	BIT(10)
#define MCA_CC6UL_LAST_WAKEUP_IO3	BIT(11)
#define MCA_CC6UL_LAST_WAKEUP_IO4	BIT(12)
#define MCA_CC6UL_LAST_WAKEUP_IO5	BIT(13)
#define MCA_CC6UL_LAST_WAKEUP_IO6	BIT(14)
#define MCA_CC6UL_LAST_WAKEUP_IO7	BIT(15)
#define MCA_CC6UL_LAST_WAKEUP_VCC	BIT(16)

/* MCA_CC6UL_RTC_CONTROL (addr=0x0101) */
#define MCA_CC6UL_RTC_EN		BIT(0)
#define MCA_CC6UL_RTC_ALARM_EN		BIT(1)
#define MCA_CC6UL_RTC_1HZ_EN		BIT(2)
#define MCA_CC6UL_RTC_32KHZ_OUT_EN	BIT(3)

/* MCA_CC6UL_RTC_COUNT_YEAR_L (addr=0x0103) */
/* MCA_CC6UL_RTC_ALARM_YEAR_L (addr=0x010A) */
#define MCA_CC6UL_RTC_YEAR_L_MASK	0xFF

/* MCA_CC6UL_RTC_COUNT_YEAR_H (addr=0x0104) */
/* MCA_CC6UL_RTC_ALARM_YEAR_H (addr=0x010B) */
#define MCA_CC6UL_RTC_YEAR_H_MASK	0xFF

/* MCA_CC6UL_RTC_COUNT_MONTH (addr=0x0105) */
/* MCA_CC6UL_RTC_ALARM_MONTH (addr=0x010C) */
#define MCA_CC6UL_RTC_MONTH_MASK	0x0F

/* MCA_CC6UL_RTC_COUNT_DAY (addr=0x0106) */
/* MCA_CC6UL_RTC_ALARM_DAY (addr=0x010D) */
#define MCA_CC6UL_RTC_DAY_MASK	0x1F

/* MCA_CC6UL_RTC_COUNT_HOUR (addr=0x0107) */
/* MCA_CC6UL_RTC_ALARM_HOUR (addr=0x010E) */
#define MCA_CC6UL_RTC_HOUR_MASK	0x1F

/* MCA_CC6UL_RTC_COUNT_MIN (addr=0x0108) */
/* MCA_CC6UL_RTC_ALARM_MIN (addr=0x010F) */
#define MCA_CC6UL_RTC_MIN_MASK	0x3F

/* MCA_CC6UL_RTC_COUNT_SEC (addr=0x0109) */
/* MCA_CC6UL_RTC_ALARM_SEC (addr=0x0110) */
#define MCA_CC6UL_RTC_SEC_MASK	0x3F

/* MCA_CC6UL_WDT_CONTROL (addr=0x0201) */
#define MCA_CC6UL_WDT_ENABLE		BIT(0)
#define MCA_CC6UL_WDT_NOWAYOUT		BIT(1)
#define MCA_CC6UL_WDT_IRQNORESET	BIT(2)
#define MCA_CC6UL_WDT_PRETIMEOUT	BIT(3)
#define MCA_CC6UL_WDT_FULLRESET		BIT(4)

/* MCA_CC6UL_WDT_TIMEOUT (addr=0x0202) */
#define MCA_CC6UL_WDT_TIMEOUT_MASK	0xFF

/* MCA_CC6UL_WDT_REFRESH_X (addr=0x0203..0x0206) */
#define MCA_CC6UL_WDT_REFRESH_X_MASK	0xFF

/* MCA_CC6UL_GPIO_NUM (addr=0x0302) */
#define MCA_CC6UL_GPIO_NUM_MASK		0x7F

#endif /* MCA_CC6UL_REGISTERS_H_ */
