'\" t
.\"     Title: IPSEC_TNCFG
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.75.2 <http://docbook.sf.net/>
.\"      Date: 10/06/2010
.\"    Manual: [FIXME: manual]
.\"    Source: [FIXME: source]
.\"  Language: English
.\"
.TH "IPSEC_TNCFG" "8" "10/06/2010" "[FIXME: source]" "[FIXME: manual]"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
ipsec_tncfg \- manipulate KLIPS virtual interfaces
.SH "SYNOPSIS"
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR tncfg
.br
ipsec\ tncfg \-\-create \fIvirtual\fR
.br
ipsec\ tncfg \-\-delete \fIvirtual\fR
.br
ipsec\ tncfg \-\-attach \-\-virtual \fIvirtual\fR \-\-physical \fIphysical\fR
.br
ipsec\ tncfg \-\-detach \-\-virtual \fIvirtual\fR
.br
ipsec\ tncfg \-\-clear
.br
ipsec\ tncfg \-\-version
.br
ipsec\ tncfg \-\-help
.SH "OBSOLETE"
.PP
Note that tncfg is only supported on the classic KLIPS stack\&. It is not supported on any other stack and will be completely removed in future versions\&. A replacement command still needs to be designed
.SH "DESCRIPTION"
.PP
The historical use of
\fItncfg\fR
is to attach/detach IPsec virtual interfaces (e\&.g\&. ipsec0) to/from physical interfaces (e\&.g\&. eth0) through which packets will be forwarded once processed by KLIPS\&.
.PP
The modern use of tncfg is to create and delete virtual interfaces known as mastXXX\&. mast stands for Mooring and XXX\&.
.PP
The form with no additional arguments lists the contents of /proc/net/ipsec_tncfg\&. The format of /proc/net/ipsec_tncfg is discussed in ipsec_tncfg(5)\&.
.PP
The
\fB\-\-attach\fR
form attaches the
\fIvirtual\fR
interface to the
\fIphysical\fR
one\&.
.PP
The
\fB\-\-detach\fR
form detaches the
\fIvirtual\fR
interface from whichever physical interface it is attached to\&.
.PP
The
\fB\-\-clear\fR
form clears all the
\fIvirtual\fR
interfaces from whichever physical interfaces they were attached to\&.
.PP
Virtual interfaces typically have names like
\fBipsec0\fR
or
\fBmast0\fR
while physical interfaces typically have names like
\fBeth0\fR
or
\fBppp0\fR\&.
.SH "EXAMPLES"
.PP
\fBipsec tncfg \-\-create mast12\fR
.RS 4
creates the mast12 device\&.
.RE
.PP
\fBipsec tncfg \-\-create ipsec4\fR
.RS 4
creates an ipsec4 device, but does not attach it\&.
.RE
.PP
\fBipsec tncfg \-\-attach \-\-virtual ipsec0 \-\-physical eth0\fR
.RS 4
attaches the
\fBipsec0\fR
virtual device to the
\fBeth0\fR
physical device\&.
.RE
.SH "FILES"
.PP
/proc/net/ipsec_tncfg, /usr/local/bin/ipsec
.SH "SEE ALSO"
.PP
ipsec(8), ipsec_manual(8), ipsec_eroute(8), ipsec_spi(8), ipsec_spigrp(8), ipsec_klipsdebug(8), ipsec_tncfg(5)
.SH "HISTORY"
.PP
Written for the Linux FreeS/WAN project <\m[blue]\fBhttp://www\&.freeswan\&.org/\fR\m[]> by Richard Guy Briggs\&.
