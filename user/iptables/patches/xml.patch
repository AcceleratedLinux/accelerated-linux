diff -Nurd iptables.orig-1.8.3/configure.ac iptables-1.8.3/configure.ac
--- iptables.orig-1.8.3/configure.ac	2019-05-28 01:09:32.000000000 +1000
+++ iptables-1.8.3/configure.ac	2019-05-30 11:58:09.389798031 +1000
@@ -39,6 +39,9 @@
 AC_ARG_ENABLE([ipv6],
 	AS_HELP_STRING([--disable-ipv6], [Do not build ip6tables]),
 	[enable_ipv6="$enableval"], [enable_ipv6="yes"])
+AC_ARG_ENABLE([xml],
+	AS_HELP_STRING([--disable-xml], [Do not build iptables-xml]),
+	[enable_xml="$enableval"], [enable_xml="yes"])
 AC_ARG_ENABLE([largefile],
 	AS_HELP_STRING([--disable-largefile], [Do not build largefile support]),
 	[enable_largefile="$enableval"],
@@ -108,6 +111,7 @@
 AM_CONDITIONAL([ENABLE_SHARED], [test "$enable_shared" = "yes"])
 AM_CONDITIONAL([ENABLE_IPV4], [test "$enable_ipv4" = "yes"])
 AM_CONDITIONAL([ENABLE_IPV6], [test "$enable_ipv6" = "yes"])
+AM_CONDITIONAL([ENABLE_XML], [test "$enable_xml" = "yes"])
 AM_CONDITIONAL([ENABLE_LARGEFILE], [test "$enable_largefile" = "yes"])
 AM_CONDITIONAL([ENABLE_DEVEL], [test "$enable_devel" = "yes"])
 AM_CONDITIONAL([ENABLE_LIBIPQ], [test "$enable_libipq" = "yes"])
@@ -264,6 +268,7 @@
 Iptables Configuration:
   IPv4 support:				${enable_ipv4}
   IPv6 support:				${enable_ipv6}
+  XML support:				${enable_xml}
   Devel support:			${enable_devel}
   IPQ support:				${enable_libipq}
   Large file support:			${enable_largefile}
diff -Nurd iptables.orig-1.8.3/iptables/Makefile.am iptables-1.8.3/iptables/Makefile.am
--- iptables.orig-1.8.3/iptables/Makefile.am	2019-05-28 01:09:32.000000000 +1000
+++ iptables-1.8.3/iptables/Makefile.am	2019-05-30 11:58:09.389798031 +1000
@@ -6,9 +6,12 @@
 
 BUILT_SOURCES =
 
-xtables_legacy_multi_SOURCES  = xtables-legacy-multi.c iptables-xml.c
+xtables_legacy_multi_SOURCES  = xtables-legacy-multi.c
 xtables_legacy_multi_CFLAGS   = ${AM_CFLAGS}
 xtables_legacy_multi_LDADD    = ../extensions/libext.a
+if ENABLE_XML
+xtables_legacy_multi_SOURCES += iptables-xml.c
+endif
 if ENABLE_STATIC
 xtables_legacy_multi_CFLAGS  += -DALL_INCLUSIVE
 endif
@@ -70,7 +73,9 @@
 		   iptables-translate.8 ip6tables-translate.8 \
 		   xtables-config-parser.c xtables-config-syntax.c
 
+if ENABLE_XML
 vx_bin_links   = iptables-xml
+endif
 if ENABLE_IPV4
 v4_sbin_links  = iptables-legacy iptables-legacy-restore iptables-legacy-save \
 		 iptables iptables-restore iptables-save
diff -Nurd iptables.orig-1.8.3/iptables/xtables-legacy-multi.c iptables-1.8.3/iptables/xtables-legacy-multi.c
--- iptables.orig-1.8.3/iptables/xtables-legacy-multi.c	2019-05-28 01:09:32.000000000 +1000
+++ iptables-1.8.3/iptables/xtables-legacy-multi.c	2019-05-30 11:58:09.389798031 +1000
@@ -32,8 +32,10 @@
 
 
 #endif
+#ifdef ENABLE_XML
 	{"iptables-xml",        iptables_xml_main},
 	{"xml",                 iptables_xml_main},
+#endif
 #ifdef ENABLE_IPV6
 	{"ip6tables",           ip6tables_main},
 	{"main6",               ip6tables_main},
