<html> <head>
<title>2. Using cgihtml</title>
<!-- $Id: cgihtml_2.html,v 1.5 1997/01/21 07:18:26 eekim Exp $ -->
</head>
<body bgcolor="#FFFFFF">

<h1>2. Using cgihtml</h1>

[
<a href="cgihtml_3.html">Next</a> |
<a href="cgihtml.html">Up to Table of Contents</a> |
<a href="cgihtml_1.html">Previous</a>
]

<hr>
<a name="1">

<h2>2.1. Basic programming structure</h2>

<p>There are standard initialization things that you will want to do
when using this library.  The following template should give you
some idea of how to properly use this library.</p>

<pre>
/* template using cgihtml.a library */

#include &lt;stdio.h&gt    /* standard io functions */
#include &lt;signal.h&gt   /* this and unistd.h for signal trapping */
#include &lt;unistd.h&gt;
#include "cgi-lib.h"  /* CGI-related routines */
#include "html-lib.h" /* HTML-related routines */

int main()
{
  llist entries;  /* define a linked list; this is where the entries */
                  /* are stored.                                     */

/* parse the form data and add it to the list */
  read_cgi_input(&entries);  

/* The data is now in a very usable form.  To search the list entries  */
/* by name, call the function:                                         */
/*      cgi_val(entries, "nameofentry")                                */
/* which returns a pointer to the value associated with "nameofentry". */

  html_header();           /* print HTML MIME header */
  html_begin("Output");    /* send appropriate HTML headers with title */
                           /*   <title>Output</title>                  */

/* display whatever data you wish here, probably with printf() */

  html_end();   /* send appropriate HTML end footers (</body> </html>) */
  list_clear(&entries);     /* free up the pointers in the linked list */
  return 0;
}
</pre>

<hr>
<a name="2">

<h2>2.2. Compiling your program</h2>

<p>To compile your program with the library, include the file
<tt>cgihtml.a</tt> when linking your object files.  For example, if
your main object file is program.cgi.o, the following should
work successfully:</p>

<pre>
cc -o program.cgi program.cgi.o cgihtml.a
</pre>

<hr>
[
<a href="cgihtml_3.html">Next</a> |
<a href="cgihtml.html">Up to Table of Contents</a> |
<a href="cgihtml_1.html">Previous</a>
]

<hr>
<address>
Copyright &#169; 1997 Eugene Eric Kim /
<a href="mailto:eekim@eekim.com">
eekim@eekim.com</a>
</address>
<!-- hhmts start -->
Last modified: Mon Jan 20 22:34:30 PST 1997
<!-- hhmts end -->
</body> </html>
