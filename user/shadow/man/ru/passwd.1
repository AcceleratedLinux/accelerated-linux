.\" ** You probably do not want to edit this file directly **
.\" It was generated using the DocBook XSL Stylesheets (version 1.69.1).
.\" Instead of manually editing it, you probably should edit the DocBook XML
.\" source for it and then use the DocBook XSL Stylesheets to regenerate it.
.TH "passwd" "1" "12/14/2005" "Пользовательские команды" "Пользовательские команды"
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "НАЗВАНИЕ"
passwd \- изменяет пароль пользователя
.SH "СИНТАКСИС"
.HP 7
\fBpasswd\fR [\-x\ \fImax\fR] [\-n\ \fImin\fR] [\-w\ \fIwarn\fR] [\-i\ \fIinact\fR] \fIимя\fR
.HP 7
\fBpasswd\fR [\-l \-u \-d \-S \-e] \fIимя\fR
.SH "ОПИСАНИЕ"
.PP
\fBpasswd\fR
изменяет пароли пользовательских учётных записей. Обычный пользователь может изменить пароль только своей учётной записи, суперпользователь может изменить пароль любой учётной записи.
\fBpasswd\fR
также изменяет информацию об учётной записи: полное имя пользователя, регистрационную оболочку командной строки или дату устаревания пароля и интервал.
.SS "Изменение пароля"
.PP
Сначала пользователя попросят ввести старый пароль, если он был. Этот пароль зашифровывается и сравнивается с имеющимся. У пользователя есть только одна попытка ввести правильный пароль. Для суперпользователя этот шаг пропускается, для того чтобы можно было изменить забытый пароль.
.PP
После ввода пароля проверяется информация об устаревании пароля, чтобы убедиться, что пользователю разрешено изменять пароль в настоящий момент. Если нет, то
\fBpasswd\fR
не производит изменение пароля и завершает работу.
.PP
Пользователю предлагается ввести новый пароль. Этот пароль тестируется на сложность подбора. Согласно общим принципам, пароли должны быть от 6 до 8 символов длиной и включать один или более символов каждого типа:
.TP 3
\(bu
строчные буквы
.TP
\(bu
цифры от 0 до 9
.TP
\(bu
знаки пунктуации
.PP
Не включайте системные символы стирания и удаления.
\fBpasswd\fR
не примет пароль, который не имеет достаточной сложности.
.PP
Если пароль прошёл проверку, то
\fBpasswd\fR
предложит ввести его ещё раз и сравнит с введённым ранее. Для изменения пароля пароли из обеих попыток должны совпасть.
.SS "Выбор пароля"
.PP
Безопасность пароля зависит от стойкости алгоритма шифрования и размера пространства ключа. В
\fIUNIX\fR
системах метод шифрования основан на алгоритме NBS DES и очень безопасен. Размер пространства ключа зависит от степени произвольности выбранного пароля.
.PP
Компромиссом в безопасности пароля является небрежный выбор пароля и сложность работы с ним. По этой причине, вы не должны использовать пароль, который является словом из словаря или который придётся записать из\-за его сложности. Также, пароль не должен быть названием чего\-либо, номером вашей лицензии, днём рождения и домашним адресом. Обо всём этом легко догадаться, что приведёт к нарушению безопасности системы.
.PP
Пароль должен легко запоминаться, чтобы не было необходимости записывать его на бумагу. Этого можно достичь соединив два маленьких слова в одно, разделив их специальным символом или цифрой. Например, Pass%word.
.PP
Другим методом создания является выбор легко запоминающейся фразы из литературы и взятие первой или последней буквы каждого слова. Например:
.TP 3
\(bu
Ask not for whom the bell tolls
.TP
\(bu
получается
.TP
\(bu
An4wtbt
.PP
Можете быть уверены, что некоторые взломщики включат этот пароль в свои словари. Поэтому вы должны выбрать свои собственные методы создания паролей и не полагаться на методы предложенные здесь.
.SH "ПАРАМЕТРЫ"
.PP
Возможные параметры команды
\fBpasswd\fR
:
.TP
\fB\-a\fR, \fB\-\-all\fR
Этот параметр можно использовать только вместе с
\fB\-S\fR
для вывода статуса всех пользователей.
.TP
\fB\-d\fR, \fB\-\-delete\fR
Удалить пароль пользователя (сделать его пустым). Это быстрый способ заблокировать пароль учётной записи. Это делает указанную учётную запись безпарольной.
.TP
\fB\-e\fR, \fB\-\-expire\fR
Немедленно сделать пароль устаревшим. В результате это заставит пользователя изменить пароль при следующем входе в систему.
.TP
\fB\-h\fR, \fB\-\-help\fR
Показать это сообщение и выйти.
.TP
\fB\-i\fR, \fB\-\-inactive\fR \fIINACTIVE\fR
Этот параметр используется для блокировки учётной записи по прошествии заданного числа дней после устаревания пароля. То есть, если пароль устарел и прошло более
\fIINACTIVE\fR
дней, то пользователь больше не сможет использовать данную учётную запись.
.TP
\fB\-k\fR, \fB\-\-keep\-tokens\fR
Указывает, что изменение пароля нужно выполнить только для устаревших ключей аутентификации (паролей). Пользователи хотят оставить свои не просроченные ключи нетронутыми.
.TP
\fB\-l\fR, \fB\-\-lock\fR
Заблокировать указанную учётную запись. Этот параметр блокирует учётную запись изменяя значение пароля на вариант, который не может быть шифрованным паролем.
.TP
\fB\-n\fR, \fB\-\-mindays\fR \fIMIN_DAYS\fR
Задать минимальное количество дней между сменой пароля. Нулевое значение этого поля указывает на то, что пользователь может менять свой пароль когда захочет.
.TP
\fB\-q\fR, \fB\-\-quiet\fR
Не выводить сообщений при работе.
.TP
\fB\-r\fR, \fB\-\-repository\fR \fIREPOSITORY\fR
изменить пароль в
\fIREPOSITORY\fR
репозитории
.TP
\fB\-S\fR, \fB\-\-status\fR
Показать состояние учётной записи. Информация о состоянии содержит 7 полей. Первое поле содержит имя учётной записи. Второе поле указывает, заблокирована ли учётная запись (L), она без пароля (NP), или у неё есть рабочий пароль (P). Третье поле хранит дату последнего изменения пароля. В следующих четырёх полях хранятся минимальный возраст, максимальный возраст, период выдачи предупреждения и период неактивности пароля. Эти сроки измеряются в днях.
.TP
\fB\-u\fR, \fB\-\-unlock\fR
Разблокировать указанную учётную запись. Этот параметр активирует учётную запись изменяя пароль на прежнее значение (которое было перед использованием параметра
\fB\-l\fR
).
.TP
\fB\-w\fR, \fB\-\-warndays\fR \fIWARN_DAYS\fR
Установить число дней выдачи предупреждения перед тем как потребуется смена пароля. В параметре
\fIWARN_DAYS\fR
указывается число дней перед тем как пароль устареет, в течении которых пользователю будут напоминать, что пароль скоро устареет.
.TP
\fB\-x\fR, \fB\-\-maxdays\fR \fIMAX_DAYS\fR
Установить максимальное количество дней, в течении которых пароль остаётся рабочим. После
\fIMAX_DAYS\fR
дней пароль нужно изменить.
.SH "ПРЕДОСТЕРЕЖЕНИЯ"
.PP
Не все параметры могут работать. Сложность пароля проверяется по разному на разных машинах. Пользователю настоятельно советуется выбирать пароль такой сложности, чтобы ему нормально работалось. Пользователи не могут изменять свои пароли в системе, если включён NIS и они не вошли на сервер NIS.
.SH "ФАЙЛЫ"
.TP
\fI/etc/passwd\fR
содержит информацию о пользователях
.TP
\fI/etc/shadow\fR
содержит защищаемую информацию о пользователях
.SH "ВОЗВРАЩАЕМЫЕ ЗНАЧЕНИЯ"
.PP
Параметр
\fBpasswd\fR
завершая работу, возвращает следующие значения:
.TP
\fI0\fR
успешное выполнение
.TP
\fI1\fR
доступ запрещён
.TP
\fI2\fR
недопустимая комбинация параметров
.TP
\fI3\fR
неожиданная ошибка при работе, ничего не сделано
.TP
\fI4\fR
неожиданная ошибка при работе, отсутствует файл passwd
.TP
\fI5\fR
файл passwd занят другой программой, попробуйте ещё раз
.TP
\fI6\fR
недопустимое значение параметра
.SH "СМОТРИТЕ ТАКЖЕ"
.PP
\fBгруппа\fR(5),
\fBpasswd\fR(5),
\fBshadow\fR(5).
