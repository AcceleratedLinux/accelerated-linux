.\" ** You probably do not want to edit this file directly **
.\" It was generated using the DocBook XSL Stylesheets (version 1.69.1).
.\" Instead of manually editing it, you probably should edit the DocBook XML
.\" source for it and then use the DocBook XSL Stylesheets to regenerate it.
.TH "userdel" "8" "11/10/2005" "Команды управления системой" "Команды управления системой"
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "НАЗВАНИЕ"
userdel \- удаляет учётную запись и файлы пользователя
.SH "СИНТАКСИС"
.HP 8
\fBuserdel\fR [\-f] [\-r] \fIимя_пользователя\fR
.SH "ОПИСАНИЕ"
.PP
Команда
\fBuserdel\fR
изменяет системные файлы учётных записей, удаляя все записи, относящиеся к
\fIимя_пользователя\fR. Заданная учётная запись должна существовать.
.SH "ПАРАМЕТРЫ"
.PP
Возможные параметры команды
\fBuserdel\fR
:
.TP
\fB\-f\fR
С этим параметром учётная запись будет удалена, даже если пользователь в этот момент работает в системе. Также будут удалены
\fBuserdel\fR
домашний каталог пользователя и почтовый ящик, даже если другой пользователь использует тот же домашний каталог или если почтовый ящик не не принадлежит данному пользователю. Если переменная
\fIUSERGROUPS_ENAB\fR
установлена в
\fIyes\fR
в файле
\fIetc/login.defs\fR
и если существует группа с именем удаляемого пользователя, то это группа будет удалена, даже если она является первичной группой другого пользователя.
.sp
\fIЗамечание:\fR
Этот параметр опасно использовать, он может привести систему в нерабочее состояние.
.TP
\fB\-r\fR
Файлы в домашнем каталоге пользователя будут удалены вместе с самим домашним каталогом и почтовым ящиком. Пользовательские файлы, расположенные в других файловых системах, нужно искать и удалять вручную.
.sp
Имя файла почтового ящика задаётся переменной
\fIMAIL_DIR\fR
в файле
\fIlogin.defs\fR.
.SH "ФАЙЛЫ"
.TP
\fI/etc/group\fR
содержит информацию о группах
.TP
\fIetc/login.defs\fR
содержит конфигурацию подсистемы теневых паролей
.TP
\fI/etc/passwd\fR
содержит информацию о пользователях
.TP
\fI/etc/shadow\fR
содержит защищаемую информацию о пользователях
.SH "ВОЗВРАЩАЕМЫЕ ЗНАЧЕНИЯ"
.PP
Команда
\fBuserdel\fR
завершая работу, возвращает следующие значения:
.TP
\fI0\fR
успешное выполнение
.TP
\fI1\fR
не удалось изменить файл паролей
.TP
\fI2\fR
ошибка в параметрах командной строки
.TP
\fI6\fR
указанный пользователь не существует
.TP
\fI8\fR
пользователь сейчас работает в системе
.TP
\fI10\fR
не удалось изменить файл групп
.TP
\fI12\fR
не удалось удалить домашний каталог
.SH "ПРЕДУПРЕЖДЕНИЕ"
.PP
\fBuserdel\fR
не будет удалять учётную запись, если пользователь в данный момент работает в системе. Вы должны завершить все запущенные процессы, принадлежащие учётной записи, которую нужно удалить.
.PP
Нельзя удалить NIS атрибуты клиента NIS. Это необходимо сделать на NIS сервере.
.PP
Если
\fIUSERGROUPS_ENAB\fR
установлена в
\fIyes\fR
в файле
\fIetc/login.defs\fR,
\fBuserdel\fR
удалит группу с именем как у пользователя. Чтобы избежать противоречий в базах данных групп и паролей,
\fBuserdel\fR
проверит, что данная група не используется в качестве первичной для другого пользователя, и выдаст предупреждение без удаления, если такое случится. Параметр
\fB\-f\fR
поможет удалить группу в любом случае.
.SH "СМОТРИТЕ ТАКЖЕ"
.PP
\fBchfn\fR(1),
\fBchsh\fR(1),
\fBpasswd\fR(1),
\fBlogin.defs\fR(5),
\fBgpasswd\fR(8),
\fBgroupadd\fR(8),
\fBgroupdel\fR(8),
\fBgroupmod\fR(8),
\fBuseradd\fR(8),
\fBusermod\fR(8).
