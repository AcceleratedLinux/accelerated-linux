diff -Naurp busybox-1.34.1.org/shell/ash.c busybox-1.34.1/shell/ash.c
--- busybox-1.34.1.org/shell/ash.c	2021-12-07 10:16:44.096143961 +0000
+++ busybox-1.34.1/shell/ash.c	2021-12-07 10:17:20.087949820 +0000
@@ -7316,6 +7316,8 @@ subevalvar(char *start, char *str, int s
 				if (idx >= end)
 					break;
 				STPUTC(*idx, expdest);
+				if (stackblock() != restart_detect)
+					goto restart;
 				if (quotes && (unsigned char)*idx == CTLESC) {
 					idx++;
 					len++;
