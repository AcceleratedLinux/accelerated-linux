Original patch to include/cmulocal/sasl2.m4 from
https://patchwork.openembedded.org/patch/52305/

  Avoid to call AC_TRY_RUN

  Upstream-Status: Inappropriate [configuration] 

  Avoid to call AC_TRY_RUN to check if GSSAPI libraries support SPNEGO
  on cross-compile environment by definition AC_ARG_ENABLE enable-spnego

  Signed-off-by: Roy.Li <rongqing.li@windriver.com>

Regenerated to apply to final configure scripts.

diff -ru cyrus-sasl-2.1.26.orig/configure cyrus-sasl-2.1.26/configure
--- cyrus-sasl-2.1.26.orig/configure	2012-11-07 05:21:37.000000000 +1000
+++ cyrus-sasl-2.1.26/configure	2017-11-15 12:49:49.325559952 +1000
@@ -1530,6 +1530,7 @@
   --enable-srp-setpass    enable setting SRP secrets with saslpasswd [no]
   --enable-krb4           enable KERBEROS_V4 authentication [no]
   --enable-gssapi=<DIR>   enable GSSAPI authentication [yes]
+  --enable-spnego=<DIR>   enable SPNEGO support in GSSAPI libraries [no]
   --enable-gss_mutexes     use mutexes around calls to the GSS library
   --enable-plain          enable PLAIN authentication yes
   --enable-anon           enable ANONYMOUS authentication [yes]
@@ -13879,6 +13880,21 @@
 
   cmu_save_LIBS="$LIBS"
   LIBS="$LIBS $GSSAPIBASE_LIBS"
+  # Check whether --enable-spnego was given.
+  if test "${enable_spnego+set}" = set; then :
+    enableval=$enable_spnego; spnego=$enableval
+  else
+    spnego=no
+  fi
+
+
+  if test "$spnego" = no; then
+       echo "no"
+  elif test "$spnego" = yes; then
+
+$as_echo "#define HAVE_GSS_SPNEGO /**/" >>confdefs.h
+
+  else
   { $as_echo "$as_me:$LINENO: checking for SPNEGO support in GSSAPI libraries" >&5
 $as_echo_n "checking for SPNEGO support in GSSAPI libraries... " >&6; }
   if test "$cross_compiling" = yes; then
@@ -13963,6 +13979,7 @@
 
 
   LIBS="$cmu_save_LIBS"
+  fi
 
 else
   { $as_echo "$as_me:$LINENO: result: disabled" >&5
diff -ru cyrus-sasl-2.1.26.orig/saslauthd/configure cyrus-sasl-2.1.26/saslauthd/configure
--- cyrus-sasl-2.1.26.orig/saslauthd/configure	2012-11-07 05:21:44.000000000 +1000
+++ cyrus-sasl-2.1.26/saslauthd/configure	2017-11-15 12:50:53.902350506 +1000
@@ -757,6 +757,7 @@
 enable_krb4
 enable_gssapi
 with_gss_impl
+enable_spnego
 enable_sia
 enable_auth_sasldb
 with_dbpath
@@ -1410,6 +1411,7 @@
   --enable-dependency-tracking   do not reject slow dependency extractors
   --enable-krb4           enable KERBEROS_V4 authentication [no]
   --enable-gssapi=<DIR>   enable GSSAPI authentication [yes]
+  --enable-spnego=<DIR>   enable SPNEGO support in GSSAPI libraries [no]
   --enable-sia            enable SIA authentication no
   --enable-auth-sasldb    enable experimental SASLdb authentication module no
   --enable-httpform       enable HTTP form authentication [no]
@@ -9628,6 +9630,21 @@
 
   cmu_save_LIBS="$LIBS"
   LIBS="$LIBS $GSSAPIBASE_LIBS"
+  # Check whether --enable-spnego was given.
+  if test "${enable_spnego+set}" = set; then :
+    enableval=$enable_spnego; spnego=$enableval
+  else
+    spnego=no
+  fi
+
+
+    if test "$spnego" = no; then
+         echo "no"
+    elif test "$spnego" = yes; then
+
+  $as_echo "#define HAVE_GSS_SPNEGO /**/" >>confdefs.h
+
+    else
   { $as_echo "$as_me:$LINENO: checking for SPNEGO support in GSSAPI libraries" >&5
 $as_echo_n "checking for SPNEGO support in GSSAPI libraries... " >&6; }
   if test "$cross_compiling" = yes; then
@@ -9710,8 +9727,8 @@
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 
-
   LIBS="$cmu_save_LIBS"
+  fi
 
 else
   { $as_echo "$as_me:$LINENO: result: disabled" >&5
