<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>tld</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="GNU Libidn API Reference Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="GNU Libidn API Reference Manual"
HREF="c4.html"><LINK
REL="PREVIOUS"
TITLE="idna"
HREF="libidn-idna.html"><LINK
REL="NEXT"
TITLE="pr29"
HREF="libidn-pr29.html"><STYLE
TYPE="text/css"
>.synopsis, .classsynopsis {
    background: #eeeeee;
    border: solid 1px #aaaaaa;
    padding: 0.5em;
}
.programlisting {
    background: #eeeeff;
    border: solid 1px #aaaaff;
    padding: 0.5em;
}
.variablelist {
    padding: 4px;
    margin-left: 3em;
}
.navigation {
    background: #ffeeee;
    border: solid 1px #ffaaaa;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
.navigation a {
    color: #770000;
}
.navigation a:visited {
    color: #550000;
}
.navigation .title {
    font-size: 200%;
}</STYLE
></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><TABLE
WIDTH="100%"
CLASS="navigation"
SUMMARY="Navigation header"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
><A
ACCESSKEY="p"
HREF="libidn-idna.html"
><IMG
SRC="left.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Prev"></A
></TD
><TD
><A
ACCESSKEY="u"
HREF="c4.html"
><IMG
SRC="up.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Up"></A
></TD
><TD
><A
ACCESSKEY="h"
HREF="index.html"
><IMG
SRC="home.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Home"></A
></TD
><TH
WIDTH="100%"
align="center"
>GNU Libidn API Reference Manual</TH
><TD
><A
ACCESSKEY="n"
HREF="libidn-pr29.html"
><IMG
SRC="right.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Next"></A
></TD
></TR
></TABLE
><H1
><A
NAME="LIBIDN-TLD"
></A
>tld</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN1622"
></A
><H2
>Name</H2
>tld&nbsp;--&nbsp;</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN1625"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>&#13;

enum        <A
HREF="libidn-tld.html#TLD-RC"
>Tld_rc</A
>;
int         <A
HREF="libidn-tld.html#TLD-GET-4"
>tld_get_4</A
>                       (const uint32_t *in,
                                             size_t inlen,
                                             char **out);
int         <A
HREF="libidn-tld.html#TLD-GET-4Z"
>tld_get_4z</A
>                      (const uint32_t *in,
                                             char **out);
int         <A
HREF="libidn-tld.html#TLD-GET-Z"
>tld_get_z</A
>                       (const char *in,
                                             char **out);
const Tld_table* <A
HREF="libidn-tld.html#TLD-GET-TABLE"
>tld_get_table</A
>              (const char *tld,
                                             const Tld_table **tables);
const Tld_table* <A
HREF="libidn-tld.html#TLD-DEFAULT-TABLE"
>tld_default_table</A
>          (const char *tld,
                                             const Tld_table **overrides);
int         <A
HREF="libidn-tld.html#TLD-CHECK-4T"
>tld_check_4t</A
>                    (const uint32_t *in,
                                             size_t inlen,
                                             size_t *errpos,
                                             const Tld_table *tld);
int         <A
HREF="libidn-tld.html#TLD-CHECK-4TZ"
>tld_check_4tz</A
>                   (const uint32_t *in,
                                             size_t *errpos,
                                             const Tld_table *tld);
int         <A
HREF="libidn-tld.html#TLD-CHECK-4"
>tld_check_4</A
>                     (const uint32_t *in,
                                             size_t inlen,
                                             size_t *errpos,
                                             const Tld_table **overrides);
int         <A
HREF="libidn-tld.html#TLD-CHECK-4Z"
>tld_check_4z</A
>                    (const uint32_t *in,
                                             size_t *errpos,
                                             const Tld_table **overrides);
int         <A
HREF="libidn-tld.html#TLD-CHECK-8Z"
>tld_check_8z</A
>                    (const char *in,
                                             size_t *errpos,
                                             const Tld_table **overrides);
int         <A
HREF="libidn-tld.html#TLD-CHECK-LZ"
>tld_check_lz</A
>                    (const char *in,
                                             size_t *errpos,
                                             const Tld_table **overrides);</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1682"
></A
><H2
>Description</H2
><P
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1685"
></A
><H2
>Details</H2
><DIV
CLASS="REFSECT2"
><A
NAME="AEN1687"
></A
><H3
><A
NAME="TLD-RC"
></A
>enum Tld_rc</H3
><PRE
CLASS="PROGRAMLISTING"
>  typedef enum
  {
    TLD_SUCCESS = 0,
    TLD_INVALID = 1,		/* Invalid character found. */
    TLD_NODATA = 2,		/* Char, domain or inlen = 0. */
    TLD_MALLOC_ERROR = 3,
    TLD_ICONV_ERROR = 4,
    TLD_NOTLD = 5
  } Tld_rc;</PRE
><P
>Enumerated return codes of the TLD checking functions.
The value 0 is guaranteed to always correspond to success.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1696"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Successful operation.  This value is guaranteed to
always be zero, the remaining ones are only guaranteed to hold
non-zero values, for logical comparison purposes.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1701"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Invalid character found.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1706"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="LITERAL"
>TLD_NODATA</VAR
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> No input data was provided.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1711"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="LITERAL"
>TLD_MALLOC_ERROR</VAR
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Error during memory allocation.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1716"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="LITERAL"
>TLD_ICONV_ERROR</VAR
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Error during iconv string conversion.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1721"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="LITERAL"
>TLD_NOTLD</VAR
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> No top-level domain found in domain string.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1726"
></A
><H3
><A
NAME="TLD-GET-4"
></A
>tld_get_4 ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_get_4                       (const uint32_t *in,
                                             size_t inlen,
                                             char **out);</PRE
><P
>Isolate the top-level domain of <VAR
CLASS="PARAMETER"
>in</VAR
> and return it as an ASCII
string in <VAR
CLASS="PARAMETER"
>out</VAR
>.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1741"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Array of unicode code points to process. Does not need to be
zero terminated.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1746"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>inlen</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Number of unicode code points.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1751"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>out</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated ascii result string pointer.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1756"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Return <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> on success, the corresponding
error code otherwise.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1762"
></A
><H3
><A
NAME="TLD-GET-4Z"
></A
>tld_get_4z ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_get_4z                      (const uint32_t *in,
                                             char **out);</PRE
><P
>Isolate the top-level domain of <VAR
CLASS="PARAMETER"
>in</VAR
> and return it as an ASCII
string in <VAR
CLASS="PARAMETER"
>out</VAR
>.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1776"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated array of unicode code points to process.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1781"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>out</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated ascii result string pointer.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1786"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> on success, the corresponding
error code otherwise.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1792"
></A
><H3
><A
NAME="TLD-GET-Z"
></A
>tld_get_z ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_get_z                       (const char *in,
                                             char **out);</PRE
><P
>Isolate the top-level domain of <VAR
CLASS="PARAMETER"
>in</VAR
> and return it as an ASCII
string in <VAR
CLASS="PARAMETER"
>out</VAR
>.  The input string <VAR
CLASS="PARAMETER"
>in</VAR
> may be UTF-8, ISO-8859-1 or
any ASCII compatible character encoding.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1807"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated character array to process.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1812"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>out</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated ascii result string pointer.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1817"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> on success, the corresponding
error code otherwise.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1823"
></A
><H3
><A
NAME="TLD-GET-TABLE"
></A
>tld_get_table ()</H3
><PRE
CLASS="PROGRAMLISTING"
>const Tld_table* tld_get_table              (const char *tld,
                                             const Tld_table **tables);</PRE
><P
>Get the TLD table for a named TLD by searching through the given
TLD table array.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1835"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>tld</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> TLD name (e.g. "com") as zero terminated ASCII byte string.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1840"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>tables</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated array of info-structures for TLDs.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1845"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Return structure corresponding to TLD <VAR
CLASS="PARAMETER"
>tld</VAR
> by going
thru <VAR
CLASS="PARAMETER"
>tables</VAR
>, or return <VAR
CLASS="LITERAL"
>NULL</VAR
> if no such structure is found.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1853"
></A
><H3
><A
NAME="TLD-DEFAULT-TABLE"
></A
>tld_default_table ()</H3
><PRE
CLASS="PROGRAMLISTING"
>const Tld_table* tld_default_table          (const char *tld,
                                             const Tld_table **overrides);</PRE
><P
>Get the TLD table for a named TLD, using the internal defaults,
possibly overrided by the (optional) supplied tables.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1865"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>tld</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> TLD name (e.g. "com") as zero terminated ASCII byte string.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1870"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>overrides</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Additional well-formed info-structures for TLDs, or <VAR
CLASS="LITERAL"
>NULL</VAR
>
to only use library deault tables.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1876"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Return structure corresponding to TLD <VAR
CLASS="PARAMETER"
>tld_str</VAR
>, first
looking through <VAR
CLASS="PARAMETER"
>overrides</VAR
> then thru built-in list, or <VAR
CLASS="LITERAL"
>NULL</VAR
> if no
such structure found.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1884"
></A
><H3
><A
NAME="TLD-CHECK-4T"
></A
>tld_check_4t ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_check_4t                    (const uint32_t *in,
                                             size_t inlen,
                                             size_t *errpos,
                                             const Tld_table *tld);</PRE
><P
>Test each of the code points in <VAR
CLASS="PARAMETER"
>in</VAR
> for whether or not
they are allowed by the data structure in <VAR
CLASS="PARAMETER"
>tld</VAR
>, return
the position of the first character for which this is not
the case in <VAR
CLASS="PARAMETER"
>errpos</VAR
>.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1901"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Array of unicode code points to process. Does not need to be
zero terminated.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1906"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>inlen</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Number of unicode code points.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1911"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>errpos</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Position of offending character is returned here.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1916"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>tld</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Data structure representing the restrictions for
which the input should be tested.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1921"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> if all code points
are valid or when <VAR
CLASS="PARAMETER"
>tld</VAR
> is null, <VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
> if a
character is not allowed, or additional error codes on
general failure conditions.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1929"
></A
><H3
><A
NAME="TLD-CHECK-4TZ"
></A
>tld_check_4tz ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_check_4tz                   (const uint32_t *in,
                                             size_t *errpos,
                                             const Tld_table *tld);</PRE
><P
>Test each of the code points in <VAR
CLASS="PARAMETER"
>in</VAR
> for whether or not
they are allowed by the data structure in <VAR
CLASS="PARAMETER"
>tld</VAR
>, return
the position of the first character for which this is not
the case in <VAR
CLASS="PARAMETER"
>errpos</VAR
>.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1945"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero terminated array of unicode code points to process.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1950"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>errpos</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Position of offending character is returned here.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1955"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>tld</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Data structure representing the restrictions for
which the input should be tested.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1960"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> if all code points
are valid or when <VAR
CLASS="PARAMETER"
>tld</VAR
> is null, <VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
> if a
character is not allowed, or additional error codes on
general failure conditions.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1968"
></A
><H3
><A
NAME="TLD-CHECK-4"
></A
>tld_check_4 ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_check_4                     (const uint32_t *in,
                                             size_t inlen,
                                             size_t *errpos,
                                             const Tld_table **overrides);</PRE
><P
>Test each of the code points in <VAR
CLASS="PARAMETER"
>in</VAR
> for whether or not they are
allowed by the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> or by the built-in TLD
restriction data. When data for the same TLD is available both
internally and in <VAR
CLASS="PARAMETER"
>overrides</VAR
>, the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> takes
precedence. If several entries for a specific TLD are found, the
first one is used.  If <VAR
CLASS="PARAMETER"
>overrides</VAR
> is <VAR
CLASS="LITERAL"
>NULL</VAR
>, only the built-in
information is used.  The position of the first offending character
is returned in <VAR
CLASS="PARAMETER"
>errpos</VAR
>.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1989"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Array of unicode code points to process. Does not need to be
zero terminated.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1994"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>inlen</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Number of unicode code points.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN1999"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>errpos</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Position of offending character is returned here.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2004"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>overrides</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> An array of additional domain restriction structures
 that complement and supersede the built-in information.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2009"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> if all code points
are valid or when <VAR
CLASS="PARAMETER"
>tld</VAR
> is null, <VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
> if a
character is not allowed, or additional error codes on
general failure conditions.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN2017"
></A
><H3
><A
NAME="TLD-CHECK-4Z"
></A
>tld_check_4z ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_check_4z                    (const uint32_t *in,
                                             size_t *errpos,
                                             const Tld_table **overrides);</PRE
><P
>Test each of the code points in <VAR
CLASS="PARAMETER"
>in</VAR
> for whether or not they are
allowed by the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> or by the built-in TLD
restriction data. When data for the same TLD is available both
internally and in <VAR
CLASS="PARAMETER"
>overrides</VAR
>, the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> takes
precedence. If several entries for a specific TLD are found, the
first one is used.  If <VAR
CLASS="PARAMETER"
>overrides</VAR
> is <VAR
CLASS="LITERAL"
>NULL</VAR
>, only the built-in
information is used.  The position of the first offending character
is returned in <VAR
CLASS="PARAMETER"
>errpos</VAR
>.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2037"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero-terminated array of unicode code points to process.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2042"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>errpos</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Position of offending character is returned here.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2047"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>overrides</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> An array of additional domain restriction structures
that complement and supersede the built-in information.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2052"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> if all code points
are valid or when <VAR
CLASS="PARAMETER"
>tld</VAR
> is null, <VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
> if a
character is not allowed, or additional error codes on
general failure conditions.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN2060"
></A
><H3
><A
NAME="TLD-CHECK-8Z"
></A
>tld_check_8z ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_check_8z                    (const char *in,
                                             size_t *errpos,
                                             const Tld_table **overrides);</PRE
><P
>Test each of the characters in <VAR
CLASS="PARAMETER"
>in</VAR
> for whether or not they are
allowed by the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> or by the built-in TLD
restriction data. When data for the same TLD is available both
internally and in <VAR
CLASS="PARAMETER"
>overrides</VAR
>, the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> takes
precedence. If several entries for a specific TLD are found, the
first one is used.  If <VAR
CLASS="PARAMETER"
>overrides</VAR
> is <VAR
CLASS="LITERAL"
>NULL</VAR
>, only the built-in
information is used.  The position of the first offending character
is returned in <VAR
CLASS="PARAMETER"
>errpos</VAR
>.  Note that the error position refers to the
decoded character offset rather than the byte position in the
string.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2080"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero-terminated UTF8 string to process.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2085"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>errpos</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Position of offending character is returned here.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2090"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>overrides</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> An array of additional domain restriction structures
that complement and supersede the built-in information.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2095"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> if all characters
are valid or when <VAR
CLASS="PARAMETER"
>tld</VAR
> is null, <VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
> if a
character is not allowed, or additional error codes on
general failure conditions.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN2103"
></A
><H3
><A
NAME="TLD-CHECK-LZ"
></A
>tld_check_lz ()</H3
><PRE
CLASS="PROGRAMLISTING"
>int         tld_check_lz                    (const char *in,
                                             size_t *errpos,
                                             const Tld_table **overrides);</PRE
><P
>Test each of the characters in <VAR
CLASS="PARAMETER"
>in</VAR
> for whether or not they are
allowed by the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> or by the built-in TLD
restriction data. When data for the same TLD is available both
internally and in <VAR
CLASS="PARAMETER"
>overrides</VAR
>, the information in <VAR
CLASS="PARAMETER"
>overrides</VAR
> takes
precedence. If several entries for a specific TLD are found, the
first one is used.  If <VAR
CLASS="PARAMETER"
>overrides</VAR
> is <VAR
CLASS="LITERAL"
>NULL</VAR
>, only the built-in
information is used.  The position of the first offending character
is returned in <VAR
CLASS="PARAMETER"
>errpos</VAR
>.  Note that the error position refers to the
decoded character offset rather than the byte position in the
string.</P
><P
></P
><P
></P
><TABLE
CLASS="variablelist"
BORDER="0"
CELLSPACING="0"
CELLPADDING="4"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2123"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>in</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Zero-terminated string in the current locales encoding to process.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2128"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>errpos</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Position of offending character is returned here.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2133"><SPAN
STYLE="white-space: nowrap"
><VAR
CLASS="PARAMETER"
>overrides</VAR
>&nbsp;:</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> An array of additional domain restriction structures
that complement and supersede the built-in information.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN2138"><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Returns <VAR
CLASS="LITERAL"
>TLD_SUCCESS</VAR
> if all characters
are valid or when <VAR
CLASS="PARAMETER"
>tld</VAR
> is null, <VAR
CLASS="LITERAL"
>TLD_INVALID</VAR
> if a
character is not allowed, or additional error codes on
general failure conditions.</P
></TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><TABLE
CLASS="navigation"
WIDTH="100%"
SUMMARY="Navigation footer"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
ALIGN="left"
><A
ACCESSKEY="p"
HREF="libidn-idna.html"
><B
>&lt;&lt;&lt;&nbsp;idna</B
></A
></TD
><TD
ALIGN="right"
><A
ACCESSKEY="n"
HREF="libidn-pr29.html"
><B
>pr29&nbsp;&gt;&gt;&gt;</B
></A
></TD
></TR
></TABLE
></BODY
></HTML
>